language: python
cache: pip
dist: xenial

git:
  quiet: true

env:
  global:
    - ICARUS_VERILOG_VERSION=10_2
    - MAKE_JOBS=2 # travis-ci only provides 2

python:
  - "2.7"
  - "3.5"

os:
  - linux
  - osx

matrix:
  include:
    - os: osx
      language: generic
      env: PYTHON=2.7.15
    - os: osx
      language: generic
      env: PYTHON=3.5.6
    - os: osx
      language: generic
      env: PYTHON=3.6.7

install:
  - ./.travis/install.sh

script:
  - flake8 --exit-zero cocotb/
  - tox
