Fixed issue on Mac OS and Linux where negative integers were returned as large positive values.
